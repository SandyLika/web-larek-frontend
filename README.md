# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
## Макет
[Ссылка на макет в Figma](https://www.figma.com/design/50YEgxY8IYDYj7UQu7yChb/Веб-ларёк?node-id=0-1&t=mhsSFer0H4P8Kybi-0)

## Базовый код
### Class `Api`
Класс предназначен для выполнеия запросов к Api.
Конструктор принимает базовый URL и опции для запросов(опционально)
Методы:
  - `handleResponse` обрабатывает ответ от сервера, возвращает json
  - `get` выполняет get запрос по указанному URL
  - `post` выполняет один из запросов post, put, delete
### Class `EventEmitter`
Класс реализует брокер событий, который позволяет объектам подписываться на события, отписываться от них и инициировать события.
Конструктор инициализирует обьект.
Методы:
  - `on` подписывает на событие
  - `off` отписывает от события
  - `onAll` подписывает на всё
  - `offAll` отписывает от всего
  - `emit` инициалицирует событие
  - `trigger` создает триггер для события
### Class `Component`
Класс предназначен для создания компонентов интерфейса, управления DOM элемантами. Класс абстрактный.Обобщенный тип `<T>` позволяет определить тип данных компонента.
Конструктор принимает DOM-элемент, который служит контейнером для компонента.
Методы:
  - `toggleClass` - переключается класс для переданного элемента.
  - `addClass` - Добавляет класс элементу.
  - `setClass` - Устанавливает (заменяет все существующие классы) указанный класс для элемента.
  - `setText` - устанавливает текстовое содержимое для переданного элемента.
  - `setImage` - устанавливает изображения и альтернативный текст(опционально) для изоображения.
  - `setDisabled` - изменяет статус блокировки для переданного элемента.
  - `setHidden` - скрывает переданные элемент.
  - `setVisible` - отоброжает переданный элемент.
  - `render` - рендерит компонент, используя переданные данные. Возвращает контейнер компонента.

## Компоненты модели данных (бизнес-логика)
скоро появиться..
## Компоненты представления
### Class `Page`
Класс, предназначенный для управления и отоброжением основных элементов страницы, таких как каталог продуктов, счетчик товаров в корзине.
Конструктор принимает страницу и обьект управления
Методы:
  - set `counter` - устанавливает значение счетчика товаров в корзине.
  - set `catalog` - заменяет содержимое каталога предоставленными данными.
### Class `Card`
Класс для упраления карточками товара.
Конструктор принимает карточку и действия связаные с ней(опционально)

Методы:
  - set/get `title` - управляет названием товара.
  - set/get `price` - управляет ценой товара.
  - set/get `category` - управляет категорией и ее видом.
  - set `image` - устанавливает изображение товара.
  - set `description` - устанавливает описание товара.
  - set `buttonTitle` - устанавливает textContent кнопки.
### Class `Modal`
Класс для создания и управления модальными окнами.
Конструктор прринимает элемент окна и действия
Методы:
  - `content` - устанавливает содержимое модального окна.
  - `open` - открывает модальное окно и инициирует событие открытия модалки.
  - `close` - закрывает модальное окно и инициирует событие зыкрытие модалки.
  - `render` - Рендерит модальное окно с переданным содержимым и открывает его.
### Class `Form`
Класс для управлени яформами в приложениию
Конструктор принимает форму и действия.
Методы:
  - `input` - обработчик событий ввода, вызывается при каждом изменении в полях формы.
  - set `valid` - управляет доступностью кнопки отправки в зависимости от валидности формы.
  - set `errors` - устанавливает и отображает ошибки валидации формы.
  - `submit`обработчик событий отравки формы, предотвращает стандартное поведение
  
### Class `Basket`
Класс для управления корзиной покупок.
Конструктор принимает обект корзины и обьект с действиями для нее(опционально)
Свойства:
- `listElement`: HTML-элемент, представляющий список товаров в корзине.
- `buttonElement`: HTML-элемент кнопки, инициирующей процесс покупки.
- `totalPriceElement`: HTML-элемент для отображения общей стоимости товаров в корзине.
Методы:
  - `toggleButton` - переключает доступность кнопки.
  - set `items` - устанавливает товары в корзине.
  - set `total` - устанавливает общую стоимость товаров.
  - `clear` - очищает корзину
### Class `BasketItem`
Класс для управления товаром в корзине.
Конструктор принимает элемент корзины и обьект с действиями(опционально)
Методы:
  - set `title` - управляет названием товара.
  - set `price` - управляет ценой товара.
  - set `index` - управляет индекс товара в корзине
### Class `Success`
Класс для отображения сообщения об удачном заказе.
Конструктор принимает контейнер успеха и обьект с действиями(опционально)
Методы:
  - set `total` - устанавливает текст отображающий сумму операции.
## Ключевые типы данных
```
//отображение главной страницы
export interface IPage {
  basketCount:number;
  catalog: HTMLElement[];
}
//описание приложения
export interface IAppState {
  catalog:IProduct[];
  basket:IProduct[];
  order: IOrder;
}
//описание апи методов
export interface IApi {
  getProductList: () => Promise<IProduct[]>;
  getProductItem: (id: string) => Promise<IProduct>;
	orderProducts: (order: IOrder) => Promise<IOrderResult>;
}
//действия
export interface IActions {
  onClick: (event: MouseEvent) => void;
}
//описание товара
export interface IProduct {
	id: string;
	title: string;
	price: number | null;
	category: string;
	image: string;
	description: string;
  inBasket: boolean;
}
//описание заказа
export interface IOrder {
  item:string[];//товары в заказе
  total: number;//итоговая сумма заказа
  payment: string;//способ оплаты
  address: string;//адрес
  email:string;//почта
  phone:string;//телефон
}
//описание результата заказа
export interface IOrderResult {
	id: string;
	total: number;
}

export interface IBasket {
  items: HTMLElement[];//Массив элементов товара в корзине
  total:number;
  addToBasket(val:IProduct):void;//добавить в корзину
  deleteFromBasket(id:string):void; //удалить из корзины
  clearBasket():void;//очистить корзину
  getTotalPrice():number; //посчитать итоговую сумму
}
```